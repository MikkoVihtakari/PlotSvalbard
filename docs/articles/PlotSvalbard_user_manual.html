<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PlotSvalbard - User Manual • PlotSvalbard</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="PlotSvalbard - User Manual">
<meta property="og:description" content="PlotSvalbard">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PlotSvalbard</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MikkoVihtakari/PlotSvalbard/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="PlotSvalbard_user_manual_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>PlotSvalbard - User Manual</h1>
            <h3 class="subtitle">Plot research data from Svalbard on maps. R package version 0.9.0.</h3>
                        <h4 class="author">Mikko Vihtakari</h4>
                  <a class="author_email" href="mailto:#"></a><a href="mailto:mikko.vihtakari@gmail.com" class="email">mikko.vihtakari@gmail.com</a>
      
                  
            <h4 class="date">09 April, 2020</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MikkoVihtakari/PlotSvalbard/blob/master/vignettes/PlotSvalbard_user_manual.Rmd"><code>vignettes/PlotSvalbard_user_manual.Rmd</code></a></small>
      <div class="hidden name"><code>PlotSvalbard_user_manual.Rmd</code></div>

    </div>

    
    
<!--
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteIndexEntry{PlotSvalbard - plot your research data from Svalbard on maps}
  %\usepackage[utf8]{inputenc}
-->
<p><a href="https://github.com/MikkoVihtakari/PlotSvalbard"><strong>PlotSvalbard</strong></a> package provides functions to plot research data from Svalbard on high resolution maps in <a href="https://www.r-project.org/">R</a>. The package is based on <a href="http://ggplot2.tidyverse.org/reference/">ggplot2</a> and the functions can be expanded using ggplot syntax. The package contains also maps from other places in the Arctic, including polar stereographic maps of the Arctic.</p>
<div id="basemap" class="section level1">
<h1 class="hasAnchor">
<a href="#basemap" class="anchor"></a>Basemap</h1>
<p>The <code>basemap</code> function is the generic plotting command in PlotSvalbard, and is analogous to empty <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a></code> call. The <code><a href="../reference/basemap.html">basemap()</a></code> call plots a map that is specified by the <code>type</code> argument. Data containing geographic information can be plotted on these maps using the <a href="http://ggplot2.tidyverse.org/reference/">ggplot2 layers separated by the <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code> operator</a>.</p>
<div id="map-types" class="section level2">
<h2 class="hasAnchor">
<a href="#map-types" class="anchor"></a>Map types</h2>
<p>Map types are specified by the <code>type</code> argument in <code><a href="../reference/basemap.html">basemap()</a></code> function. The list below shows all currently implemented map types.</p>
<div id="svalbard" class="section level3">
<h3 class="hasAnchor">
<a href="#svalbard" class="anchor"></a>Svalbard</h3>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">PlotSvalbard</span>)
<span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"svalbard"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-1-1.png" width="672"></p>
<div id="kongsfjorden" class="section level4">
<h4 class="hasAnchor">
<a href="#kongsfjorden" class="anchor"></a>Kongsfjorden</h4>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"kongsfjorden"</span>) <span class="co"># or just basemap()</span></pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-2-1.png" width="672"></p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"kongsfjordbotn"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"kronebreen"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"mosj"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
</div>
</div>
<div id="barents-sea" class="section level3">
<h3 class="hasAnchor">
<a href="#barents-sea" class="anchor"></a>Barents Sea</h3>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
<p>Barents Sea map also prints mainland Norway, but the projection is not optimal, and the resolution is quite low.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">12</span>, <span class="fl">24</span>, <span class="fl">68</span>, <span class="fl">71</span>))</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
</div>
<div id="pan-arctic" class="section level3">
<h3 class="hasAnchor">
<a href="#pan-arctic" class="anchor"></a>Pan-Arctic</h3>
<p>The “panarctic” map type supports any maps north of 30 degrees latitude.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"panarctic"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"panarctic"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fl">70</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
</div>
</div>
<div id="limiting-zooming-the-maps" class="section level2">
<h2 class="hasAnchor">
<a href="#limiting-zooming-the-maps" class="anchor"></a>Limiting (zooming) the maps</h2>
<p>Any <code>basemap</code> can be limited (or zoomed in) using the <code>limits</code> argument. The <code>limits</code> argument has to be either a numeric vector of length 4 or a character vector of length 3. Numeric vectors are used to constrain (zoom in) the maps using coordinates. Character vectors are used to automatically zoom into a dataset.</p>
<div id="manual-limits" class="section level3">
<h3 class="hasAnchor">
<a href="#manual-limits" class="anchor"></a>Manual limits</h3>
<p>Achieved using a numeric vector. The first element defines the minimum longitude, the second element the maximum longitude, the third element the minimum latitude and the fourth element the maximum latitude of the bounding box. The coordinates have to be given as decimal degrees for Svalbard and Barents Sea maps and as UTM coordinates for pan-Arctic maps (see <a href="https://mikkovihtakari.github.io/PlotSvalbard/reference/transform_coord.html"><code><a href="../reference/transform_coord.html">?transform_coord</a></code></a>).</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"svalbard"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">11</span>, <span class="fl">18</span>, <span class="fl">77.9</span>, <span class="fl">78.85</span>)) <span class="co"># limits in decimal degrees</span></pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"panarctic"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3</span>*<span class="fl">10</span>^<span class="fl">6</span>, -<span class="fl">3</span>*<span class="fl">10</span>^<span class="fl">6</span>, <span class="fl">3</span>*<span class="fl">10</span>^<span class="fl">6</span>, -<span class="fl">3</span>*<span class="fl">10</span>^<span class="fl">6</span>)) <span class="co"># limits in UTM coordinates</span></pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-11-1.png" width="672"></p>
<p>Note that some map types are already limited, so if you are looking for a map of Kongsfjorden, using <code><a href="../reference/basemap.html">basemap("kongsfjorden")</a></code> might be just what you need.</p>
</div>
<div id="automatic-limits" class="section level3">
<h3 class="hasAnchor">
<a href="#automatic-limits" class="anchor"></a>Automatic limits</h3>
<p>Requires a character vector: the first element gives the object name of the data frame containing data to which the map should be limited, the second argument gives the column name of longitude data and the third argument the column name of latitude data. The map will be limited using rounded minimum and maximum floor and ceiling values for longitude and latitude and (hopefully) sensible rounding resolution depending on the size of the map. The <code>limits.lon</code> and <code>limits.lat</code> arguments can be used to override the default rounding.</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="kw">type</span> <span class="kw">=</span> <span class="st">"svalbard"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"kongsfjord_moorings"</span>, <span class="st">"Lon"</span>, <span class="st">"Lat"</span>)) +
  <span class="fu">geom_point</span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">kongsfjord_moorings</span>, <span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">lon.utm</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">lat.utm</span>), <span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-12-1.png" width="672"></p>
</div>
</div>
<div id="bathymetry" class="section level2">
<h2 class="hasAnchor">
<a href="#bathymetry" class="anchor"></a>Bathymetry</h2>
<p>All basemaps support bathymetry, but the resolution of bathymetry shapefiles is varying. Bathymetry can be plotted using the <code>bathymetry</code> argument.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"panarctic"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fl">60</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-13-1.png" width="672"></p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-14-1.png" width="672"></p>
<div id="detailed-bathymetry-shapes" class="section level3">
<h3 class="hasAnchor">
<a href="#detailed-bathymetry-shapes" class="anchor"></a>Detailed bathymetry shapes</h3>
<p>The default bathymetry shapefile is too low resolution to be used inside Svalbard fjords:</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"kongsfjorden"</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-15-1.png" width="672"></p>
<p>PlotSvalbard contains more detailed shapefiles from the Norwegian Mapping Authority, but these files have gaps in them. More detailed shapefiles can be plotted using the <code>bathy.detailed</code> argument (warning: detailed bathymetries are large and therefore slow.)</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"kongsfjorden"</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">bathy.detailed</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-16-1.png" width="672"></p>
</div>
<div id="bathymetry-styles" class="section level3">
<h3 class="hasAnchor">
<a href="#bathymetry-styles" class="anchor"></a>Bathymetry styles</h3>
<p>PlotSvalbard has 4 preprogrammed style alternatives:</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">bathy.style</span> <span class="kw">=</span> <span class="st">"poly_blues"</span>) <span class="co"># default</span></pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/bathystyle-1.png" width="672"></p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">bathy.style</span> <span class="kw">=</span> <span class="st">"poly_greys"</span>) <span class="co"># grey polygons with shading</span></pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/bathystyle-2.png" width="672"></p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">bathy.style</span> <span class="kw">=</span> <span class="st">"contour_blues"</span>) <span class="co"># colored contours</span></pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/bathystyle-3.png" width="672"></p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">bathy.style</span> <span class="kw">=</span> <span class="st">"contour_grey"</span>) <span class="co"># grey contours</span></pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/bathystyle-4.png" width="672"></p>
<p>Adding depth labels to contours (ala nautical maps) is currently an unresolved issue.</p>
</div>
<div id="customizing-bathymetry-styles" class="section level3">
<h3 class="hasAnchor">
<a href="#customizing-bathymetry-styles" class="anchor"></a>Customizing bathymetry styles</h3>
<p>The color scales for polygons and contours can be adjusted using ggplot2 syntax:</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>) + <span class="fu">scale_fill_viridis_d</span>(<span class="st">"Water depth (m)"</span>)
<span class="co">#&gt; Scale for 'fill' is already present. Adding another scale for 'fill', which</span>
<span class="co">#&gt; will replace the existing scale.</span></pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-17-1.png" width="672"></p>
<div class="sourceCode" id="cb22"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">bathy.style</span> <span class="kw">=</span> <span class="st">"contour_blues"</span>) + <span class="fu">scale_color_hue</span>()
<span class="co">#&gt; Scale for 'colour' is already present. Adding another scale for 'colour',</span>
<span class="co">#&gt; which will replace the existing scale.</span></pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-17-2.png" width="672"></p>
</div>
</div>
<div id="ocean-currents" class="section level2">
<h2 class="hasAnchor">
<a href="#ocean-currents" class="anchor"></a>Ocean currents</h2>
<p>Ocean currents for the Barents Sea have been implemented in the most recent version, but not peer-reviewed yet. This feature will be improved in the future versions of the package. Atlantic and Arctic currents are represented using red and purple arrows, respectively. The arrow color can be changed using <code>atl.color</code> and <code>arc.color</code> arguments.</p>
<div class="sourceCode" id="cb23"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">bathy.style</span> <span class="kw">=</span> <span class="st">"poly_greys"</span>, <span class="kw">currents</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">current.alpha</span> <span class="kw">=</span> <span class="fl">0.7</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/currents-1.png" width="672"></p>
<p>The package also supports currents, where the amount of water is approximately scaled to the thickness. The thickness is approximatation and based more on feelings than actual science</p>
<div class="sourceCode" id="cb24"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">bathymetry</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">currents</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">current.size</span> <span class="kw">=</span> <span class="st">"scaled"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/currents_scaled-1.png" width="672"></p>
</div>
<div id="adding-data-to-basemaps" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-data-to-basemaps" class="anchor"></a>Adding data to basemaps</h2>
<p>Data can be added to basemaps using the <a href="http://ggplot2.tidyverse.org/reference/"><code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code> operator and layers for ggplot2</a>. Below you will find some examples on how to add your research data on basemaps.</p>
<div id="adding-station-labels-text" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-station-labels-text" class="anchor"></a>Adding station labels (text)</h3>
<p>Text can be added to basemaps using the <code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text()</a></code> function:</p>
<div class="sourceCode" id="cb25"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"npi_stations"</span>)

<span class="no">x</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/transform_coord.html">transform_coord</a></span>(<span class="no">npi_stations</span>, <span class="kw">lon</span> <span class="kw">=</span> <span class="st">"Lon"</span>, <span class="kw">lat</span> <span class="kw">=</span> <span class="st">"Lat"</span>, <span class="kw">bind</span> <span class="kw">=</span> <span class="fl">TRUE</span>)

<span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"svalbard"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3</span>,<span class="fl">24</span>,<span class="fl">78.5</span>,<span class="fl">82</span>), <span class="kw">round.lat</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">round.lon</span> <span class="kw">=</span> <span class="fl">2</span>,
  <span class="kw">land.col</span> <span class="kw">=</span> <span class="st">"#a9750d"</span>, <span class="kw">gla.border.col</span> <span class="kw">=</span> <span class="st">"grey95"</span>) +
  <span class="fu">geom_text</span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">x</span>, <span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">lon.utm</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">lat.utm</span>,
    <span class="kw">label</span> <span class="kw">=</span> <span class="no">Station</span>), <span class="kw">color</span> <span class="kw">=</span> <span class="st">"red"</span>, <span class="kw">fontface</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-18-1.png" width="672"></p>
<p>Text size can be mapped to variables using the standard ggplot2 syntax:</p>
<div class="sourceCode" id="cb26"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"kongsfjord_moorings"</span>)

<span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"kongsfjorden"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">11.3</span>, <span class="fl">12.69</span>, <span class="fl">78.85</span>, <span class="fl">79.1</span>), <span class="kw">round.lat</span> <span class="kw">=</span> <span class="fl">0.05</span>, <span class="kw">round.lon</span> <span class="kw">=</span> <span class="fl">0.5</span>) +
  <span class="fu">geom_text</span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">kongsfjord_moorings</span>, <span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">lon.utm</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">lat.utm</span>,
  <span class="kw">label</span> <span class="kw">=</span> <span class="no">Mooring.name</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="no">Name</span>), <span class="kw">fontface</span> <span class="kw">=</span> <span class="fl">2</span>,
  <span class="kw">size</span> <span class="kw">=</span> <span class="fl">25.4</span>/<span class="fl">72.27</span>*<span class="fl">8</span>) <span class="co"># font size = 8, see Graphical parameters</span></pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-19-1.png" width="672"></p>
</div>
<div id="adding-piecharts" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-piecharts" class="anchor"></a>Adding piecharts</h3>
<p>The <a href="https://cran.r-project.org/web/packages/scatterpie/index.html"><code>scatterpie</code></a> package allows relatively easy plotting of piecharts on maps. Extensions for ggplot2 work together with PlotSvalbard.</p>
<div class="sourceCode" id="cb27"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="no">zooplankton</span>)

<span class="no">x</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/transform_coord.html">transform_coord</a></span>(<span class="no">zooplankton</span>, <span class="kw">lon</span> <span class="kw">=</span> <span class="st">"Longitude"</span>, <span class="kw">lat</span> <span class="kw">=</span> <span class="st">"Latitude"</span>, <span class="kw">bind</span> <span class="kw">=</span> <span class="fl">TRUE</span>)

<span class="no">species</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="no">x</span>)[!<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="no">x</span>) <span class="kw">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"lon.utm"</span>, <span class="st">"lat.utm"</span>, <span class="st">"ID"</span>,
  <span class="st">"Longitude"</span>, <span class="st">"Latitude"</span>, <span class="st">"Total"</span>)]

<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">scatterpie</span>)

<span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">4</span>, <span class="fl">24</span>, <span class="fl">79.5</span>, <span class="fl">83.5</span>), <span class="kw">round.lon</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">round.lat</span> <span class="kw">=</span> <span class="fl">1</span>) +
  <span class="fu"><a href="https://rdrr.io/pkg/scatterpie/man/geom_scatterpie.html">geom_scatterpie</a></span>(<span class="fu">aes</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">lon.utm</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">lat.utm</span>, <span class="kw">group</span> <span class="kw">=</span> <span class="no">ID</span>, <span class="kw">r</span> <span class="kw">=</span> <span class="fl">100</span>*<span class="no">Total</span>),
  <span class="kw">data</span> <span class="kw">=</span> <span class="no">x</span>, <span class="kw">cols</span> <span class="kw">=</span> <span class="no">species</span>, <span class="kw">size</span> <span class="kw">=</span> <span class="fl">0.1</span>) + <span class="fu">scale_fill_discrete</span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"Species"</span>,
  <span class="kw">breaks</span> <span class="kw">=</span> <span class="no">species</span>, <span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/parse.html">parse</a></span>(<span class="kw">text</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">"italic("</span> , <span class="fu"><a href="https://rdrr.io/r/base/grep.html">sub</a></span>(<span class="st">"*\\."</span>, <span class="st">"~"</span>, <span class="no">species</span>), <span class="st">")"</span>)))</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-20-1.png" width="672"></p>
</div>
<div id="adding-interpolated-2d-surfaces" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-interpolated-2d-surfaces" class="anchor"></a>Adding interpolated 2D surfaces</h3>
<p>PlotSvalbard uses the <a href="https://www.rdocumentation.org/packages/gstat/versions/1.1-5/topics/krige"><code>krige</code> function</a> from the <a href="https://cran.r-project.org/web/packages/gstat/index.html"><strong>gstat</strong> package</a> to produce interpolated 2D plots:</p>
<div class="sourceCode" id="cb28"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"chlorophyll"</span>)

<span class="no">x</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/interpolate_spatial.html">interpolate_spatial</a></span>(<span class="no">chlorophyll</span>, <span class="kw">Subset</span> <span class="kw">=</span> <span class="st">"From &lt;= 10"</span>, <span class="kw">value</span> <span class="kw">=</span> <span class="st">"Chla"</span>) <span class="co">## Interpolate</span>
<span class="co">#&gt; [inverse distance weighted interpolation]</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">x</span>, <span class="kw">legend.label</span> <span class="kw">=</span> <span class="st">"Chlorophyll-a\n(mg/m3)"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-21-1.png" width="672"></p>
</div>
</div>
<div id="par" class="section level2">
<h2 class="hasAnchor">
<a href="#par" class="anchor"></a>Graphical parameters</h2>
<p>The line widths and general looks of the basemaps are optimized for a half page sized <code>pdf</code> figure in scientific journals (<a href="http://www.springer.com/authors/manuscript+guidelines?SGWID=0-40162-6-795162-0">Springer figure dimensions</a> were used to develop the function). The line widths may not look good when printed on other devices. You can modify the line widths and colors using <code>*.size</code> and <code>*.border.col</code> arguments.</p>
<div class="sourceCode" id="cb29"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"svalbard"</span>, <span class="kw">land.size</span> <span class="kw">=</span> <span class="fl">0.01</span>, <span class="kw">gla.size</span> <span class="kw">=</span> <span class="fl">0.05</span>, <span class="kw">grid.size</span> <span class="kw">=</span> <span class="fl">0.05</span>,
  <span class="kw">gla.border.col</span> <span class="kw">=</span> <span class="st">"#52bfe4"</span>, <span class="kw">land.border.col</span> <span class="kw">=</span> <span class="st">"#a9750d"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-22-1.png" width="672"></p>
<p>Approach to remove borders of land and glacier shapes:</p>
<div class="sourceCode" id="cb30"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"kongsfjorden"</span>, <span class="kw">gla.border.col</span> <span class="kw">=</span> <span class="st">"grey95"</span>, <span class="kw">land.border.col</span> <span class="kw">=</span> <span class="st">"#eeeac4"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-23-1.png" width="672"></p>
<p>The <a href="https://stackoverflow.com/questions/47519624/how-is-the-line-width-size-defined-in-ggplot2/47521808#47521808">line width of ggplot2 is 2.13 wider than the line widths measured as points</a> (pt). This means that if you want a certain line width, multiply the desired line width by <span class="math inline">\(1/2.13\)</span> inside <code>size.*</code> arguments. Similar conversion factor for font size is <span class="math inline">\(1/2.845276\)</span>.</p>
<p>The internal <code>LS</code> and <code>FS</code> functions convert line and font sizes from points to ggplot2 equivalents.</p>
<p>Axis labels can be modified using the <code><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs()</a></code> function family from ggplot2</p>
<div class="sourceCode" id="cb31"><html><body><pre class="r"><span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>) +
  <span class="fu">labs</span>(<span class="kw">y</span> <span class="kw">=</span> <span class="kw">NULL</span>) +
  <span class="fu">xlab</span>(<span class="st">"Lat"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/unnamed-chunk-24-1.png" width="672"> ## Performance</p>
<p>The <code><a href="../reference/basemap.html">basemap("svalbard")</a></code> is currently fairly slow due to less than optimized code and the large size of the shapefiles that are used to generate the map. Zoomed in maps are considerably faster than full scale Svalbard maps.</p>
<p>If you are looking for optimal <code>limits</code> for your data, you can use the <code><a href="../reference/basemap.html">basemap("barentssea")</a></code> option to find these limits and replace <code>"barentssea"</code> with <code>"svalbard"</code> once you are done:</p>
<div class="sourceCode" id="cb32"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>(<span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   0.362   0.019   0.395</span>
<span class="fu"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>(<span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"svalbard"</span>))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;  13.597   0.309  13.947</span>
<span class="fu"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>(<span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"panarctic"</span>))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   1.209   0.167   1.458</span>
<span class="fu"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>(<span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"barentssea"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">19.5</span>,<span class="fl">23.5</span>,<span class="fl">80</span>,<span class="fl">81.7</span>))))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   0.158   0.007   0.170</span>
<span class="fu"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>(<span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"svalbard"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">19.5</span>,<span class="fl">23.5</span>,<span class="fl">80</span>,<span class="fl">81.7</span>))))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   3.358   0.186   3.623</span>
<span class="fu"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>(<span class="fu"><a href="../reference/basemap.html">basemap</a></span>(<span class="st">"panarctic"</span>, <span class="kw">limits</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">250000</span>, -<span class="fl">2500000</span>, <span class="fl">2000000</span>, -<span class="fl">250000</span>)))
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   1.089   0.027   1.123</span></pre></body></html></div>
</div>
</div>
<div id="oceanographic-plots" class="section level1">
<h1 class="hasAnchor">
<a href="#oceanographic-plots" class="anchor"></a>Oceanographic plots</h1>
<div id="temperature-salinity-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#temperature-salinity-plots" class="anchor"></a>Temperature salinity plots</h2>
<p>You can make TS-plots with water type definitions. See <code><a href="../reference/ts_plot.html">?ts_plot</a></code> for more plotting alternatives</p>
<div class="sourceCode" id="cb33"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"ctd_kongsfjord"</span>)
<span class="fu"><a href="../reference/ts_plot.html">ts_plot</a></span>(<span class="no">ctd_kongsfjord</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="st">"watertype"</span>, <span class="kw">margin_distr</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/tsplot-1.png" width="672"></p>
</div>
<div id="section-plots-and-interpolation" class="section level2">
<h2 class="hasAnchor">
<a href="#section-plots-and-interpolation" class="anchor"></a>Section plots and interpolation</h2>
<p>Standard temperature section plot. Difficult to see surface due to large differences in y-scale:</p>
<div class="sourceCode" id="cb34"><html><body><pre class="r"><span class="fu"><a href="../reference/section_plot.html">section_plot</a></span>(<span class="no">ctd_rijpfjord</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="st">"dist"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"pressure"</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="st">"temp"</span>,
  <span class="kw">bottom</span> <span class="kw">=</span> <span class="st">"bdepth"</span>, <span class="kw">interpolate</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/section1-1.png" width="672"></p>
<p>Logarithmic y axis:</p>
<div class="sourceCode" id="cb35"><html><body><pre class="r"><span class="fu"><a href="../reference/section_plot.html">section_plot</a></span>(<span class="no">ctd_rijpfjord</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="st">"dist"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"pressure"</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="st">"temp"</span>,
  <span class="kw">bottom</span> <span class="kw">=</span> <span class="st">"bdepth"</span>, <span class="kw">interpolate</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">log_y</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/section2-1.png" width="672"></p>
<p>Contour lines:</p>
<div class="sourceCode" id="cb36"><html><body><pre class="r"><span class="fu"><a href="../reference/section_plot.html">section_plot</a></span>(<span class="no">ctd_rijpfjord</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="st">"dist"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"pressure"</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="st">"temp"</span>,
  <span class="kw">bottom</span> <span class="kw">=</span> <span class="st">"bdepth"</span>, <span class="kw">interpolate</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">log_y</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">contour</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(-<span class="fl">1.8</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">3</span>))</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/section3-1.png" width="672"></p>
<p>The <code>interpolate_section</code> function has not been documented yet here, but check the help sheet on how to use it.</p>
</div>
</div>
<div id="other-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#other-functions" class="anchor"></a>Other functions</h1>
<div id="distance-to-land" class="section level2">
<h2 class="hasAnchor">
<a href="#distance-to-land" class="anchor"></a>Distance to land</h2>
<p>The <a href="https://mikkovihtakari.github.io/PlotSvalbard/reference/dist2land.html"><code>dist2land</code></a> function calculates the closest distance to land. Note that the function has a possibility for parallel processing, which speeds up the process with large datasets. The parallel processing has been turned off by default (<code>cores = 1</code>). You can turn it on by setting another integer or a function, which produces such an integer (for example <code>parallel::detectCores() - 2</code> uses all avaible cores exept two). Parallelizing does not work under Windows.</p>
<div class="sourceCode" id="cb37"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"npi_stations"</span>)

<span class="no">dists</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/dist2land.html">dist2land</a></span>(<span class="no">npi_stations</span>, <span class="kw">lon.col</span> <span class="kw">=</span> <span class="st">"Lon"</span>, <span class="kw">lat.col</span> <span class="kw">=</span> <span class="st">"Lat"</span>, <span class="kw">map.type</span> <span class="kw">=</span> <span class="st">"svalbard"</span>)
<span class="no">dists</span>$<span class="no">Area</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">ordered</a></span>(<span class="no">dists</span>$<span class="no">Area</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Kongsfjorden"</span>, <span class="st">"Framstrait"</span>, <span class="st">"Rijpfjorden"</span>))</pre></body></html></div>
<div class="sourceCode" id="cb38"><html><body><pre class="r"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="no">dists</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">Area</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">dist</span>, <span class="kw">label</span> <span class="kw">=</span> <span class="no">Station</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="no">Area</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span>() + <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Distance to land (km)"</span>) + <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_hue.html">scale_color_hue</a></span>()</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/dist2landplot-1.png" width="672"></p>
</div>
<div id="waffle-charts" class="section level2">
<h2 class="hasAnchor">
<a href="#waffle-charts" class="anchor"></a>Waffle charts</h2>
<p>Code for waffle charts has been recently implemented into the package and will be extended to enable plotting the waffles on maps. Currently the waffle plotting on maps has to be done manually using the <code>grid</code>and <code>gridExtra</code> packages (see StackOverflow how to do this). Waffle charts are filled from bottom upwards and from left to right:</p>
<div class="sourceCode" id="cb39"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">reshape2</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"zooplankton"</span>)

<span class="co"># Remove coordinates</span>
<span class="no">x</span> <span class="kw">&lt;-</span> <span class="no">zooplankton</span>[!<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">zooplankton</span>) <span class="kw">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Longitude"</span>, <span class="st">"Latitude"</span>)]

<span class="co">## Make get the absolute values</span>
<span class="no">x</span>[!<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">x</span>) <span class="kw">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"ID"</span>, <span class="st">"Total"</span>)] <span class="kw">&lt;-</span> (<span class="no">x</span>[!<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">x</span>) <span class="kw">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"ID"</span>, <span class="st">"Total"</span>)]/<span class="fl">100</span>)*<span class="no">x</span>$<span class="no">Total</span>
<span class="no">x</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/melt.html">melt</a></span>(<span class="no">x</span>, <span class="kw">id</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"ID"</span>, <span class="st">"Total"</span>))

<span class="fu"><a href="../reference/waffle_chart.html">waffle_chart</a></span>(<span class="no">x</span>, <span class="kw">fill</span> <span class="kw">=</span> <span class="st">"variable"</span>, <span class="kw">facet</span> <span class="kw">=</span> <span class="st">"ID"</span>)</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/waffle-1.png" width="672"></p>
<p>The waffles can also be scaled to maximum values</p>
<div class="sourceCode" id="cb40"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)

<span class="no">y</span> <span class="kw">&lt;-</span> <span class="no">x</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">ID</span>) <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="kw">sum</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">value</span>))

<span class="fu"><a href="../reference/waffle_chart.html">waffle_chart</a></span>(<span class="no">x</span>, <span class="kw">fill</span> <span class="kw">=</span> <span class="st">"variable"</span>, <span class="kw">facet</span> <span class="kw">=</span> <span class="st">"ID"</span>, <span class="kw">composition</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">max_value</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="no">y</span>$<span class="no">sum</span>))</pre></body></html></div>
<p><img src="PlotSvalbard_user_manual_files/figure-html/waffle%20scaled-1.png" width="672"></p>
</div>
</div>
<div id="citing-plotsvalbard" class="section level1">
<h1 class="hasAnchor">
<a href="#citing-plotsvalbard" class="anchor"></a>Citing PlotSvalbard</h1>
<p>The <code>citation</code> function tells how to cite PlotSvalbard package</p>
<div class="sourceCode" id="cb41"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/citation.html">citation</a></span>(<span class="st">"PlotSvalbard"</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; To cite package 'PlotSvalbard' in publications use:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Mikko Vihtakari (2020). PlotSvalbard: PlotSvalbard - Plot research</span>
<span class="co">#&gt;   data from Svalbard on maps. R package version 0.9.0.</span>
<span class="co">#&gt;   https://github.com/MikkoVihtakari/PlotSvalbard</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; A BibTeX entry for LaTeX users is</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   @Manual{,</span>
<span class="co">#&gt;     title = {PlotSvalbard: PlotSvalbard - Plot research data from Svalbard on maps},</span>
<span class="co">#&gt;     author = {Mikko Vihtakari},</span>
<span class="co">#&gt;     year = {2020},</span>
<span class="co">#&gt;     note = {R package version 0.9.0},</span>
<span class="co">#&gt;     url = {https://github.com/MikkoVihtakari/PlotSvalbard},</span>
<span class="co">#&gt;   }</span></pre></body></html></div>
<p>However, please note that the maps generated by this package should be cited to their original source.</p>
<ul>
<li>Svalbard maps originate from the <a href="http://geodata.npolar.no/">Norwegian Polar Institute</a>. Distributed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 license</a> (<a href="http://geodata.npolar.no/bruksvilkar/">terms of use</a>).</li>
<li>Barents Sea and pan-Arctic land shapes are downloaded from <a href="http://www.naturalearthdata.com">Natural Earth Data</a>. They use the <a href="http://www.naturalearthdata.com/downloads/10m-physical-vectors/">ne_10m_land</a> and <a href="http://www.naturalearthdata.com/downloads/50m-physical-vectors/">ne_50m_land</a> (v 4.0.0) datasets, respectively. Distributed under the <a href="https://creativecommons.org/publicdomain/">CC Public Domain license</a> (<a href="http://www.naturalearthdata.com/about/terms-of-use/">terms of use</a>).</li>
<li>Pan-Arctic bathymetry shapefile is generalized from <a href="https://www.gebco.net/data_and_products/gridded_bathymetry_data/gebco_one_minute_grid/">General Bathymetric Chart of the Oceans One Minute Grid</a>.</li>
<li>Barents Sea bathymetry shapefile is generalized from <a href="https://www.ngdc.noaa.gov/mgg/bathymetry/arctic/ibcaoversion3.html">IBCAO v3.0 500m RR grid</a>. Should be cited as <a href="https://www.ngdc.noaa.gov/mgg/bathymetry/arctic/2012GL052219.pdf">Jakobsson, M., et al. The International Bathymetric Chart of the Arctic Ocean (IBCAO) Version 3.0. Geophys. Res. Lett. 2012, 39:L12609.</a>
</li>
<li>Svalbard fjord bathymetry shapefiles are from the <a href="https://kartkatalog.geonorge.no/metadata/kartverket/dybdedata/2751aacf-5472-4850-a208-3532a51c529a">Norwegian Mapping Authority</a>. Distributed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0 license</a>.</li>
</ul>
<p>The example data included in the package are property of the Norwegian Polar Institute and should not be used in other instances. I.e. these data are unpublihed at the moment.</p>
<p>PlotSvalbard depends on many packages (see <a href="https://mikkovihtakari.github.io/PlotSvalbard/index.html#dependencies"><strong>Dependencies</strong></a>). If you use these packages in your publications, please cite the respective packages.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Mikko Vihtakari.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
